% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{sql_count}
\alias{sql_count}
\title{Generate SQL COUNT expression with proper casting}
\usage{
sql_count(conn, alias, expr = "*", distinct = FALSE)
}
\arguments{
\item{conn}{Database connection (used to detect backend)}

\item{alias}{Column alias for the count result}

\item{expr}{Expression to count (default "*")}

\item{distinct}{Logical; if TRUE, count distinct values}
}
\value{
SQL expression string like "CAST(COUNT(*) AS BIGINT) AS n"
}
\description{
Returns an aliased COUNT expression that handles:
- COUNT_BIG for SQL Server (avoids int overflow on large tables)
- CAST to BIGINT for other backends
- DISTINCT counting when needed
}
\keyword{internal}
