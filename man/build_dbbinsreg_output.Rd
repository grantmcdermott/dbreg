% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dbbinsreg.R
\name{build_dbbinsreg_output}
\alias{build_dbbinsreg_output}
\title{Build dbbinsreg output list (binsreg-compatible format)}
\usage{
build_dbbinsreg_output(inputs, fit, geo, eval_fn, se_fn = NULL, knots = NULL)
}
\arguments{
\item{inputs}{List of input parameters from dbbinsreg()}

\item{fit}{The dbreg model object}

\item{geo}{Data frame with bin geometry (x_left, x_right, x_mid, n, x_mean)}

\item{eval_fn}{Function that takes (x, bin) and returns fitted y values}

\item{se_fn}{Function that takes (x, bin) and returns standard errors (or NULL)}

\item{knots}{Optional vector of knots (for constrained estimation)}
}
\value{
A list with class "dbbinsreg" containing:
  - data.dots: data.frame with columns x, bin, fit, se, ci.l, ci.r (at bin means)
  - data.line: data.frame with columns x, bin, fit (on grid) - only if line requested
  - data.bin: data.frame with bin.id, left.endpoint, right.endpoint
  - model: the dbreg fit object
  - opt: list of options (dots, line, nbins, binspos, etc.)
}
\description{
Creates the standard dbbinsreg output structure matching binsreg's
output format: data.dots (evaluated at bin means), data.line (on grid),
and data.bin (bin geometry).
}
\keyword{internal}
