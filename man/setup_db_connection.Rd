% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{setup_db_connection}
\alias{setup_db_connection}
\title{Set up database connection and data source}
\usage{
setup_db_connection(conn, table, data, path, caller = "dbreg")
}
\arguments{
\item{conn}{Database connection, or NULL to create a DuckDB connection}

\item{table}{Character table name or tbl_lazy object}

\item{data}{R data.frame to register with DuckDB}

\item{path}{Character path to file(s) on disk}

\item{caller}{Character string identifying the calling function for error messages
and temp table naming (e.g., "dbreg" or "dbbinsreg")}
}
\value{
A list containing:
  \item{conn}{The database connection (created or provided)}
  \item{table_name}{The table name to query from}
  \item{from_statement}{SQL FROM clause (for dbreg-style queries)}
  \item{own_conn}{Logical, TRUE if we created the connection}
  \item{registered_table}{Name of registered table if data.frame was provided, else NULL}
  \item{is_duckdb}{Logical, TRUE if the connection is DuckDB}
}
\description{
Handles the precedence logic for data sources (table > data > path),
connection inference from tbl_lazy objects, and DuckDB registration.
}
\keyword{internal}
