% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dbbinsreg.R
\name{dbbinsreg_sql_sample}
\alias{dbbinsreg_sql_sample}
\title{Build efficient sample query (backend-specific)}
\usage{
dbbinsreg_sql_sample(select_clause, table_name, where_clause, n, backend)
}
\arguments{
\item{select_clause}{The SELECT clause (e.g., "*" or "col1, col2")}

\item{table_name}{Table to sample from}

\item{where_clause}{WHERE clause without "WHERE" keyword (or NULL)}

\item{n}{Number of rows to sample}

\item{backend}{Backend name from detect_backend()}
}
\value{
Complete SQL query for sampling
}
\description{
Uses native SAMPLE/TABLESAMPLE when available, falls back to ORDER BY RANDOM()
}
\details{
FIXME: Currently uses simple random sampling. When FEs are specified, rare
groups could be excluded from the sample. Consider adding stratified sampling
(e.g., via window functions: ROW_NUMBER() OVER (PARTITION BY fe ORDER BY RANDOM()))
to ensure representation from all FE groups.
}
\keyword{internal}
